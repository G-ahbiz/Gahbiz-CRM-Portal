<div class="container-fluid p-0 m-0">

  <div class="card">
    <p-table [value]="leadsData" dataKey="id" sortField="id" [sortOrder]="1" [tableStyle]="{'min-width': '40rem'}"
      [paginator]="true" [rowsPerPageOptions]="[2, 4, 6, 8, 10]" [rows]="4" [loading]="loading"
      [globalFilterFields]="['name', 'service', 'status', 'source', 'assignedTo', 'value', 'createdDate']">
      <ng-template #caption>
        <div class="flex">
            <p-button label="Clear" [outlined]="true" icon="pi pi-filter-slash" (click)="clear(dt1)" />
            <p-iconfield iconPosition="left" class="ml-auto">
                <p-inputicon>
                    <i class="pi pi-search"></i>
                </p-inputicon>
                <input pInputText type="text" (input)="dt1.filterGlobal($event.target.value, 'contains')" placeholder="Search keyword" />
            </p-iconfield>
        </div>
    </ng-template>
      <ng-template #header>
        <tr>
          <th class="d-flex justify-content-center align-items-center gap-2">
            <div class="flex items-center gap-2">
              <input type="checkbox" name="select-all" id="select-all">
            </div>
          </th>
          <th [pSortableColumn]="'id'">
            <div class="flex items-center gap-2">
              ID
              <p-sortIcon field="'ID'" />
            </div>
          </th>
          <th [pSortableColumn]="'name'">
            <div class="flex items-center gap-2">
              Name
              <p-sortIcon field="'name'" />
            </div>
          </th>
          <th [pSortableColumn]="'service'">
            <div class="flex items-center gap-2">
              Service
              <p-sortIcon field="'service'" />
            </div>
          </th>
          <th [pSortableColumn]="'status'">
            <div class="flex items-center gap-2">
              Status
              <p-sortIcon field="'status'" />
            </div>
          </th>
          <th [pSortableColumn]="'source'">
            <div class="flex items-center gap-2">
              Source
              <p-sortIcon field="'source'" />
            </div>
          </th>
          <th [pSortableColumn]="'assignedTo'">
            <div class="flex items-center gap-2">
              Assigned To
              <p-sortIcon field="'assignedTo'" />
            </div>
          </th>
          <th [pSortableColumn]="'value'">
            <div class="flex items-center gap-2">
              Value
              <p-sortIcon field="'value'" />
            </div>
          </th>
          <th [pSortableColumn]="'createdDate'">
            <div class="flex items-center gap-2">
              Created Date
              <p-sortIcon field="'createdDate'" />
            </div>
          </th>
          <th class="d-flex justify-content-center align-items-center gap-2">Actions</th>
        </tr>
      </ng-template>
      <ng-template #body let-lead>
        <tr>
          <td>
            <input type="checkbox" name="select-lead" id="lead-{{ lead.id }}">
          </td>
          <td>{{ lead.id }}</td>
          <td>{{ lead.name }}</td>
          <td>{{ lead.service }}</td>
          <td>{{ lead.status }}</td>
          <td>{{ lead.source }}</td>
          <td>{{ lead.assignedTo }}</td>
          <td>{{ lead.value }}</td>
          <td>{{ lead.createdDate }}</td>
          <td class="d-flex justify-content-center align-items-center gap-2">
            <button class="btn btn-sm" (click)="viewLead(lead.id); $event.stopPropagation()">
              <img src="assets/images/shared/eye.svg" alt="" class="">
            </button>
            <button class="btn btn-sm" (click)="editLead(lead.id); $event.stopPropagation()">
              <i class="pi pi-pencil"></i>
            </button>
            <button class="btn btn-sm" (click)="deleteLead(lead.id); $event.stopPropagation()">
              <i class="pi pi-trash"></i>
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>

</div>
