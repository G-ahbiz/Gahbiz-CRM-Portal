<div class="container-fluid p-0 m-0">
  <div class="crm-layout d-flex justify-content-start align-items-start">

    <!-- Sidebar Backdrop for Mobile -->
    <div class="sidebar-backdrop d-md-none" [class.show]="showMobileBackdrop()" (click)="closeMobileSidebar()">
    </div>

    <!-- Sidebar Container -->
    <div class="sidebar-container p-0 m-0 h-100 sidebar-bg" [class.collapsed]="isSidebarCollapsed() && !isMobile()"
      [class.mobile-open]="isMobileSidebarOpen()">
      <app-sidebar [isMobile]="isMobile()" [isSidebarCollapsed]="isSidebarCollapsed()"
        (sidebarToggled)="onSidebarToggled()" (sidebarCollapsedToggled)="toggleSidebarCollapsed()">
      </app-sidebar>
    </div>

    <!-- Main Content Area -->
    <div class="crm-layout-content h-100 w-100 content-bg">
      <!-- Dashboard Header -->
      <div class="dashboard-header-container p-0 m-0">
        <app-header [isMobile]="isMobile()" (mobileMenuToggled)="toggleMobileSidebar()">
        </app-header>
      </div>

      <div class="content-container p-0 m-0">
        <router-outlet></router-outlet>
      </div>
    </div>

  </div>
</div>